<app-navbar></app-navbar>

<div class="container">
  <div class="text-center">
    <h2 class="jumbotron">Create New Article</h2>
  </div>
  <div class="form-row">
    <div class="col-md-4">
      <div class="form-group">
        <div *ngIf="upload">
          <div class="progress">
            <div class="progress-bar progress-bar-animated" [ngStyle]="{ 'width': upload?.progress + '%' }"></div>
          </div>
          Progress: {{upload?.progress}}% Complete
        </div>
        <div class="form-group">
          <label>Upload New Images</label>
          <br>
          <input type="file" class="input" #fileItem (change)="handleFiles($event)" required multiple>
          <button class="btn btn-dark" [disabled]="!fileItem.value" (click)="uploadFiles()">Upload Images</button>
        </div>
      </div>
      <img ng-hide="upload.url == ''" src="{{newArticle?.url}}" style="max-width:300px; max-height: 300px">
    </div>
    <div class="col-md-8">
      <form #articleForm="ngForm" (ngSubmit)="onSubmit(articleForm)">
        <input type="hidden" name="$key" #$key [(ngModel)]="newArticle.$key">
        <input type="hidden" name="url" #url [(ngModel)]="newArticle.url">
        <div class="form-group">
          <label>Title</label>
          <input class="form-control" name="title" #title="ngModel" [(ngModel)]="newArticle.title" placeholder="Title..." required>
        </div>
        <div class="form-group">
          <label>website</label>
          <input class="form-control" name="website" #website="ngModel" [(ngModel)]="newArticle.website" placeholder="website..."
            required>
        </div>
        <div class="form-group">
          <label>Skills</label>
          <input class="form-control" name="skills" #skills="ngModel" [(ngModel)]="newArticle.skills" placeholder="Skills..." required>
        </div>
        <div class="form-group">
          <label>Description</label>
          <textarea rows="5" class="form-control" name="body" #body="ngModel" [(ngModel)]="newArticle.body" placeholder="Description..."
            required></textarea>
        </div>
        <div class="form-group right">
          <button class="btn btn-default" type="submit" [disabled]="!articleForm.valid">
            <i class="fa fa-floppy-o"></i>
            Submit</button>
        </div>
      </form>
    </div>
  </div>
</div>